<!--
Adapted from template provided by Keen IO (https://keen.io) Â© Keen IO 2014 MIT License. See License at XXXXXXXXXXX
-->

<!DOCTYPE html>
<html>
<head>
  <title>MALT: Dashboard</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
  <link rel="stylesheet" type="text/css" href="../static/assets/lib/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../static/assets/css/keen-dashboards.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <link rel="stylesheet" href="../static/assets/css/custom.css" />
  <link rel="icon" href="../static/assets/img/favicon.ico">
  <script type="text/javascript" src="../static/assets/js/plotly.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>
</head>
<body class="application">

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand">
          <span class="glyphicon glyphicon-map-marker"></span>
        </a>
        <a class="navbar-brand">MALT</a>
      </div>
      <div class="navbar-collapse collapse">
        <div class="nav navbar-nav navbar-left">
          <div class="filters">
            Radius (km)
            <input type="number" id="radius-value" class="form-control" value="">
          </div>
          <div class="filters">
            Latitude
            <input type="number" step="any" id="coordinates-lat" class="form-control">
          </div>
          <div class="filters">
            Longitude
            <input type="number" step="any" id="coordinates-lng" class="form-control" placeholder="32">
          </div>
          <div class="filters" id="datefilter">
            Start Date
            <input type="date" id="timeframe-start" class="form-control" placeholder="mm/dd/yyyy">
          </div>
          <div class="filters" id="datefilter">
            End Date
            <input type="date" id="timeframe-end" class="form-control" placeholder="mm/dd/yyyy">
          </div>
          <div class="filters" id="timefilter">
            Start Time
            <input type="time" id="timeframe-start" class="form-control" placeholder="hh:mm ss">
          </div>
          <div class="filters" id="timefilter">
            End Time
            <input type="time" id="timeframe-end" class="form-control" placeholder="hh:mm ss">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-6" id="map-panel">
        <div class="chart-wrapper" id="map-wrapper">
          <div class="chart-title">
            Malicious Login Alert Locations
          </div>
          <div id="mapid" class="chart-stage">
              <!-- <img data-src="holder.js/100%x120/white"> -->
          </div>
          <div class="chart-notes">
            Click a marker to see the associated alert information.
          </div>
        </div>
      </div>
      <div class="col-sm-6" id="charts-panel">
        <div class="chart-wrapper">
          <div class="chart-title">
            Location Distribution
          </div>
          <div class="chart-stage">
            {{location_distribution | safe}}
          </div>
          <div class="chart-notes">
            Hover the mouse over a bar to see its location and count.
          </div>
        </div>
        <div class="chart-wrapper">
          <div class="chart-title">
            IP Addreses Used Today
          </div>
          <div class="chart-stage">
            {{ip_address_distribution_today | safe}}
          </div>
          <div class="chart-notes">
            Hover the mouse over a bar to see its IP Address and count.
          </div>
        </div>
        <div class="chart-wrapper">
          <div class="chart-title">
            Account Distribution
          </div>
          <div class="chart-stage">
            <div>
              {{account_distribution | safe}}
            </div>
          </div>
          <div class="chart-notes">
            Hover the mouse over a bar to see its account name and count.
          </div>
        </div>
        <div class="chart-wrapper">
          <div class="chart-title">
            Time-of-Day Distribution
          </div>
          <div class="chart-stage">
            <!-- <img data-src="holder.js/100%x120/white"> -->
            {{time_of_day_distribtion | safe}}
          </div>
          <div class="chart-notes">
            Hover the mouse over a bar to see its time and count.
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <div class="chart-wrapper">
          <div class="chart-title">
            Record Table
          </div>
          <div class="chart-stage">
              {{data_table | safe}}
          </div>
          <div class="chart-notes">
            Last Notes
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="../static/assets/lib/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="../static/assets/lib/bootstrap/dist/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="../static/assets/lib/holderjs/holder.js"></script>
  <script>
    Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
  </script>

  <script type="text/javascript" src="../static/assets/lib/keen-js/dist/keen.min.js"></script>
  <!-- <script type="text/javascript" src="../static/assets/js/meta.js"></script> -->
  <script type='text/javascript' src='../static/assets/js/leafletMapCustom.js'></script>

</body>
</html>
